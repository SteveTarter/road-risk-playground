/* Map card gets an intrinsic height without taking the whole screen */
.map-card .map-viewport {
  position: relative;
  width: 100%;
  /* Prefer aspect-ratio; fallback to min-height for older browsers */
  aspect-ratio: 4 / 3;
  min-height: 320px;
}

/* On taller/wider screens, allow a bit more height but still card-like */
@media (min-width: 768px) {
  .map-card .map-viewport {
    aspect-ratio: 16 / 10;  /* a little wider on desktop */
    min-height: 380px;
  }
}

/* Ensure Mapbox canvas fills the viewport box */
.map-card .map-viewport > #map {
  width: 100%;
  height: 100%;
}

/* Keep geocoder inputs above the map layers and tappable */
.mapboxgl-ctrl-top-left,
.mapboxgl-ctrl-top-right {
  z-index: 10;
}

/* On small screens, stack the two geocoders to avoid click conflicts */
@media (max-width: 575.98px) {
  .mapboxgl-ctrl-top-left .mapboxgl-ctrl-geocoder,
  .mapboxgl-ctrl-top-right .mapboxgl-ctrl-geocoder {
    width: 100%;
    max-width: none;
    margin: 0.25rem 0.5rem;
  }
}

/* Shrink the geocoder inputs a bit */
.mapboxgl-ctrl-geocoder {
  font-size: 0.95rem;
}
